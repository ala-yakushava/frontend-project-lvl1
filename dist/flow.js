"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _readlineSync = _interopRequireDefault(require("readline-sync"));

var _ = _interopRequireDefault(require("."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const maxRepeat = 3;
const startRepeat = 0;
let playerName;

const playGame = (question, answer, repeat = startRepeat) => {
  const currentQuestion = question();
  console.log(`Question: ${currentQuestion}`);

  const actual = _readlineSync.default.question('Your answer: ');

  const correctAnswer = answer(currentQuestion);
  const currentRepeat = repeat + 1;

  if (actual !== correctAnswer) {
    console.log(`'${actual}' is wrong answer ;(. Correct answer was '${correctAnswer}'.\nLet's try again, ${playerName}!`);
    return null;
  }

  console.log('Correct!');

  if (currentRepeat === maxRepeat) {
    console.log(`Congratulations, ${playerName}!`);
    return null;
  }

  return playGame(question, answer, currentRepeat);
};

const flow = (getQuestion, getAnswer, descriptionGame) => {
  console.log(`Welcome to the Brain Games!\n${descriptionGame}\n`);
  playerName = (0, _.default)();
  return playGame(getQuestion, getAnswer);
};

var _default = flow;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9mbG93LmpzIl0sIm5hbWVzIjpbIm1heFJlcGVhdCIsInN0YXJ0UmVwZWF0IiwicGxheWVyTmFtZSIsInBsYXlHYW1lIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJyZXBlYXQiLCJjdXJyZW50UXVlc3Rpb24iLCJjb25zb2xlIiwibG9nIiwiYWN0dWFsIiwicmVhZGxpbmVTeW5jIiwiY29ycmVjdEFuc3dlciIsImN1cnJlbnRSZXBlYXQiLCJmbG93IiwiZ2V0UXVlc3Rpb24iLCJnZXRBbnN3ZXIiLCJkZXNjcmlwdGlvbkdhbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLFNBQVMsR0FBRyxDQUFsQjtBQUNBLE1BQU1DLFdBQVcsR0FBRyxDQUFwQjtBQUNBLElBQUlDLFVBQUo7O0FBRUEsTUFBTUMsUUFBUSxHQUFHLENBQUNDLFFBQUQsRUFBV0MsTUFBWCxFQUFtQkMsTUFBTSxHQUFHTCxXQUE1QixLQUE0QztBQUMzRCxRQUFNTSxlQUFlLEdBQUdILFFBQVEsRUFBaEM7QUFDQUksRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsYUFBWUYsZUFBZ0IsRUFBekM7O0FBQ0EsUUFBTUcsTUFBTSxHQUFHQyxzQkFBYVAsUUFBYixDQUFzQixlQUF0QixDQUFmOztBQUNBLFFBQU1RLGFBQWEsR0FBR1AsTUFBTSxDQUFDRSxlQUFELENBQTVCO0FBQ0EsUUFBTU0sYUFBYSxHQUFHUCxNQUFNLEdBQUcsQ0FBL0I7O0FBRUEsTUFBSUksTUFBTSxLQUFLRSxhQUFmLEVBQThCO0FBQzVCSixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxJQUFHQyxNQUFPLDZDQUE0Q0UsYUFBYyx3QkFBdUJWLFVBQVcsR0FBbkg7QUFDQSxXQUFPLElBQVA7QUFDRDs7QUFFRE0sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjs7QUFFQSxNQUFJSSxhQUFhLEtBQUtiLFNBQXRCLEVBQWlDO0FBQy9CUSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxvQkFBbUJQLFVBQVcsR0FBM0M7QUFDQSxXQUFPLElBQVA7QUFDRDs7QUFFRCxTQUFPQyxRQUFRLENBQUNDLFFBQUQsRUFBV0MsTUFBWCxFQUFtQlEsYUFBbkIsQ0FBZjtBQUNELENBcEJEOztBQXNCQSxNQUFNQyxJQUFJLEdBQUcsQ0FBQ0MsV0FBRCxFQUFjQyxTQUFkLEVBQXlCQyxlQUF6QixLQUE2QztBQUN4RFQsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsZ0NBQStCUSxlQUFnQixJQUE1RDtBQUNBZixFQUFBQSxVQUFVLEdBQUcsZ0JBQWI7QUFFQSxTQUFPQyxRQUFRLENBQUNZLFdBQUQsRUFBY0MsU0FBZCxDQUFmO0FBQ0QsQ0FMRDs7ZUFPZUYsSSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWFkbGluZVN5bmMgZnJvbSAncmVhZGxpbmUtc3luYyc7XG5pbXBvcnQgZ3JlZXQgZnJvbSAnLic7XG5cbmNvbnN0IG1heFJlcGVhdCA9IDM7XG5jb25zdCBzdGFydFJlcGVhdCA9IDA7XG5sZXQgcGxheWVyTmFtZTtcblxuY29uc3QgcGxheUdhbWUgPSAocXVlc3Rpb24sIGFuc3dlciwgcmVwZWF0ID0gc3RhcnRSZXBlYXQpID0+IHtcbiAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gcXVlc3Rpb24oKTtcbiAgY29uc29sZS5sb2coYFF1ZXN0aW9uOiAke2N1cnJlbnRRdWVzdGlvbn1gKTtcbiAgY29uc3QgYWN0dWFsID0gcmVhZGxpbmVTeW5jLnF1ZXN0aW9uKCdZb3VyIGFuc3dlcjogJyk7XG4gIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBhbnN3ZXIoY3VycmVudFF1ZXN0aW9uKTtcbiAgY29uc3QgY3VycmVudFJlcGVhdCA9IHJlcGVhdCArIDE7XG5cbiAgaWYgKGFjdHVhbCAhPT0gY29ycmVjdEFuc3dlcikge1xuICAgIGNvbnNvbGUubG9nKGAnJHthY3R1YWx9JyBpcyB3cm9uZyBhbnN3ZXIgOyguIENvcnJlY3QgYW5zd2VyIHdhcyAnJHtjb3JyZWN0QW5zd2VyfScuXFxuTGV0J3MgdHJ5IGFnYWluLCAke3BsYXllck5hbWV9IWApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ0NvcnJlY3QhJyk7XG5cbiAgaWYgKGN1cnJlbnRSZXBlYXQgPT09IG1heFJlcGVhdCkge1xuICAgIGNvbnNvbGUubG9nKGBDb25ncmF0dWxhdGlvbnMsICR7cGxheWVyTmFtZX0hYCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcGxheUdhbWUocXVlc3Rpb24sIGFuc3dlciwgY3VycmVudFJlcGVhdCk7XG59O1xuXG5jb25zdCBmbG93ID0gKGdldFF1ZXN0aW9uLCBnZXRBbnN3ZXIsIGRlc2NyaXB0aW9uR2FtZSkgPT4ge1xuICBjb25zb2xlLmxvZyhgV2VsY29tZSB0byB0aGUgQnJhaW4gR2FtZXMhXFxuJHtkZXNjcmlwdGlvbkdhbWV9XFxuYCk7XG4gIHBsYXllck5hbWUgPSBncmVldCgpO1xuXG4gIHJldHVybiBwbGF5R2FtZShnZXRRdWVzdGlvbiwgZ2V0QW5zd2VyKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZsb3c7XG4iXX0=